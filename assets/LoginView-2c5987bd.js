import{S as _}from"./sweetalert2.all-1685151c.js";import{_ as g,r as c,o as d,c as x,i as b,f as i,T as w,d as m,b as e,D as u,H as p,w as v,F as y}from"./index-0d9e5818.js";const{VITE_BASEURL:L}={VITE_BASEURL:"https://vue3-course-api.hexschool.io",VITE_APIPATH:"hmjbs",BASE_URL:"/pomme/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},V={data(){return{user:{username:"",password:""},isLoading:!1}},methods:{login(){this.isLoading=!0;const n=`${L}/v2/admin/signin`;this.axios.post(n,this.user).then(o=>{const{token:a,expired:l}=o.data;document.cookie=`hexschool=${a}; expires=${l}`,this.isLoading=!1,this.$router.push("/admin")}).catch(()=>{this.isLoading=!1,_.fire({iconColor:"#992525",iconHtml:'<i class="bi bi-exclamation-triangle-fill"></i>',text:"登入失敗",showConfirmButton:!1,width:250,timer:1500})})}}},B={style:{"background-image":"url('https://images.unsplash.com/photo-1445116572660-236099ec97a0?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1171&q=80')",height:"100vh"},class:"position-relative bg-setting"},k={class:"container"},E={class:"text-center"},T={class:"row justify-content-center align-items-center min-vh-100"},D={class:"bg-primary rounded d-flex flex-column justify-content-center align-items-center shadow",style:{width:"500px",height:"600px"},"data-aos":"zoom-in"},R=e("h1",{class:"h2 mb-4 fw-bold text-light"},[e("span",{class:"logo"},"Pomme"),e("br"),i("後台登入 ")],-1),S={class:"col-8"},A={id:"form",class:"form-signin"},H={class:"form-floating mb-3"},C=e("label",{for:"username"},"帳號",-1),M={class:"form-floating"},P=e("label",{for:"password"},"密碼",-1);function U(n,o,a,l,t,r){const h=c("loading-component"),f=c("RouterLink");return d(),x(y,null,[(d(),b(w,{to:"title"},[i(" | 後台登入")])),m(h,{active:t.isLoading,"z-index":1060},null,8,["active"]),e("div",B,[e("div",k,[e("div",E,[e("div",T,[e("div",D,[R,e("div",S,[e("form",A,[e("div",H,[u(e("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"",autofocus:"","onUpdate:modelValue":o[0]||(o[0]=s=>t.user.username=s)},null,512),[[p,t.user.username]]),C]),e("div",M,[u(e("input",{type:"password",class:"form-control",id:"password",placeholder:"Password",required:"","onUpdate:modelValue":o[1]||(o[1]=s=>t.user.password=s)},null,512),[[p,t.user.password]]),P]),e("button",{class:"btn btn-lg btn-secondary text-light w-100 mt-3",type:"button",onClick:o[2]||(o[2]=(...s)=>r.login&&r.login(...s))}," 登入 "),m(f,{to:"/",class:"btn btn-lg btn-outline-secondary text-light w-100 mt-3"},{default:v(()=>[i("回到前台首頁")]),_:1})])])])])])])])],64)}const q=g(V,[["render",U]]);export{q as default};
