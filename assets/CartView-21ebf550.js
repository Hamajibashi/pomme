import{_ as w,m as k,a as C,r as b,o as n,c as l,i as x,f as c,T as $,d as u,b as t,C as i,E as I,F as r,h as p,t as d,j as _,w as f,G as V,D as v}from"./index-ef2929e7.js";import{C as g}from"./CartStore-4e85d554.js";import"./sweetalert2.all-1df281d9.js";const N={data(){return{coupon:""}},methods:{...k(g,["getCart","removeItem","removeAll","updateItem","useCoupon"])},computed:{...C(g,["cart","total","final_total","loadingItem","isLoading"])},mounted(){this.getCart()}},T={class:"container-md"},U={class:"py-5"},j=t("h3",{class:"fw-bold mb-3"},"購物車",-1),S={class:"row"},q={class:"col"},A={class:"text-end mb-2"},B={key:0,class:"table text-primary"},D=t("thead",null,[t("tr",null,[t("th",{class:"ps-0 d-sm-none w-100"},"商品詳細"),t("th",{width:"30%",class:"ps-0 d-none d-sm-table-cell"},"商品名稱"),t("th",{width:"10%",class:"text-center d-none d-sm-table-cell"},"數量"),t("th",{width:"20%",class:"text-center d-none d-sm-table-cell"},"單價"),t("th",{width:"20%",class:"text-center d-none d-sm-table-cell"},"小計"),t("th",{width:"20%",class:"text-end d-none d-sm-table-cell"},"移除")])],-1),L={scope:"row",class:"px-0 py-4 d-flex align-items-center"},z=["src","alt"],E={class:"ms-3"},F={class:"mb-0 fw-bold d-inline-block"},M={class:"d-sm-none"},G={class:"mb-2"},P=["disabled","onUpdate:modelValue","onChange"],Y=["value"],H={class:"align-middle d-none d-sm-table-cell"},J=["disabled","onUpdate:modelValue","onChange"],K=["value"],O={class:"align-middle text-center d-none d-sm-table-cell"},Q={class:"mb-0"},R={class:"align-middle text-center d-none d-sm-table-cell"},W={class:"mb-0"},X={class:"align-middle text-end d-none d-sm-table-cell"},Z=["disabled","onClick"],tt=t("i",{class:"bi bi-trash fs-5"},null,-1),et=[tt],st={colspan:"4",class:"align-middle text-end d-sm-none"},ot=["disabled","onClick"],nt=t("i",{class:"bi bi-trash fs-5"},null,-1),lt=[nt],dt={key:0},at=t("td",{colspan:"4"},[t("p",{class:"mb-0 text-end fw-bold"},"總金額")],-1),ct={class:"mb-0 text-end fw-bold fs-3"},it={key:1},rt=t("td",{colspan:"4"},[t("p",{class:"mb-0 text-end text-muted fs-7"},"總計"),t("p",{class:"mb-0 text-end fw-bold"},"優惠價")],-1),mt={class:"pt-4"},ut={class:"mb-0 text-end text-muted fs-7"},pt={class:"mb-0 text-end fw-bold fs-3"},_t={key:1,class:"d-flex flex-column justify-content-center align-items-center my-5"},ht=t("h4",{class:"mb-5"}," 購物車目前沒有商品哦！ ",-1),bt={key:2,class:"row flex-column flex-sm-row justify-content-center justify-content-md-between align-items-center"},ft={class:"col-md-6 mb-3"},vt=t("p",{class:"fs-7 mb-0 text-muted"},[c("我們一歲了！輸入 "),t("span",{class:"text-danger"},"Pomme1Year"),c(" 享有 8 折優惠")],-1),gt={class:"input-group"},yt={class:"input-group-append"},wt={class:"col-md-6 text-end"};function kt(s,a,Ct,xt,m,$t){const y=b("loading-component"),h=b("router-link");return n(),l(r,null,[(n(),x($,{to:"title"},[c(" | 購物車")])),u(y,{active:s.isLoading,"z-index":1060},null,8,["active"]),t("div",T,[t("div",U,[j,t("div",S,[t("div",q,[i(t("div",A,[t("button",{class:"btn btn-outline-gray",onClick:a[0]||(a[0]=(...e)=>s.removeAll&&s.removeAll(...e))},"清空購物車")],512),[[I,s.cart.length!==0]]),s.cart.length!==0?(n(),l("table",B,[D,t("tbody",null,[(n(!0),l(r,null,p(s.cart,e=>(n(),l("tr",{class:"border-bottom border-top",key:e.id},[t("th",L,[t("img",{src:e.product.imageUrl,alt:e.product.title,style:{width:"72px",height:"72px"},class:"object-cover img-fluid"},null,8,z),t("div",E,[t("p",F,d(e.product.title),1),t("div",M,[t("div",G," $"+d(e.product.price),1),i(t("select",{class:"form-select-sm",disabled:e.id===s.loadingItem,"onUpdate:modelValue":o=>e.qty=o,onChange:o=>s.updateItem(e),style:{width:"100px",height:"30px","font-size":"10px"}},[(n(),l(r,null,p(10,o=>t("option",{value:o,key:o},d(o),9,Y)),64))],40,P),[[v,e.qty,void 0,{number:!0}]])])])]),t("td",H,[i(t("select",{class:"form-select-sm",style:{width:"100%"},disabled:e.id===s.loadingItem,"onUpdate:modelValue":o=>e.qty=o,onChange:o=>s.updateItem(e)},[(n(),l(r,null,p(10,o=>t("option",{value:o,key:o},d(o),9,K)),64))],40,J),[[v,e.qty,void 0,{number:!0}]])]),t("td",O,[t("p",Q,"NT$ "+d(e.product.price),1)]),t("td",R,[t("p",W,"NT$ "+d(e.total),1)]),t("td",X,[t("button",{class:"btn text-muted",disabled:e.id===s.loadingItem,onClick:o=>s.removeItem(e.id)},et,8,Z)]),t("td",st,[t("button",{class:"btn text-muted",disabled:e.id===s.loadingItem,onClick:o=>s.removeItem(e.id)},lt,8,ot)])]))),128))]),t("tfoot",null,[s.total===s.final_total?(n(),l("tr",dt,[at,t("td",null,[t("p",ct,"NT$ "+d(s.total),1)])])):_("",!0),s.total>s.final_total?(n(),l("tr",it,[rt,t("td",mt,[t("p",ut,"NT$ "+d(s.total),1),t("p",pt,"NT$ "+d(s.final_total),1)])])):_("",!0)])])):(n(),l("div",_t,[ht,u(h,{to:"/products",class:"btn btn-primary btn-lg"},{default:f(()=>[c("來去逛逛")]),_:1})])),s.cart.length!==0?(n(),l("div",bt,[t("div",ft,[vt,t("div",gt,[i(t("input",{type:"text",class:"form-control rounded-0 shadow-none",placeholder:"請輸入優惠券代碼","onUpdate:modelValue":a[1]||(a[1]=e=>m.coupon=e)},null,512),[[V,m.coupon,void 0,{trim:!0}]]),t("div",yt,[t("button",{class:"btn btn-primary rounded-0",type:"button",onClick:a[2]||(a[2]=e=>s.useCoupon(m.coupon))},"套用")])])]),t("div",wt,[u(h,{class:"btn btn-lg btn-primary px-5",to:"/checkorder"},{default:f(()=>[c("前往結帳")]),_:1})])])):_("",!0)])])])])],64)}const Tt=w(N,[["render",kt]]);export{Tt as default};
