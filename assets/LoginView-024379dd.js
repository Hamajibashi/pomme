import{S as _}from"./sweetalert2.all-cc361385.js";import{_ as g,r as c,o as d,c as x,i as b,f as n,T as w,d as m,b as e,C as u,G as p,w as v,F as k}from"./index-f453f472.js";const{VITE_BASEURL:y}={VITE_BASEURL:"https://vue3-course-api.hexschool.io",VITE_APIPATH:"hmjbs",BASE_URL:"/pomme/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},V={data(){return{user:{username:"",password:""},isLoading:!1}},methods:{login(){this.isLoading=!0;const i=`${y}/v2/admin/signin`;this.axios.post(i,this.user).then(o=>{const{token:a,expired:r}=o.data;document.cookie=`hexschool=${a}; expires=${r}`,this.isLoading=!1,this.$router.push("/admin")}).catch(()=>{this.isLoading=!1,_.fire({iconColor:"#992525",iconHtml:'<i class="bi bi-exclamation-triangle-fill"></i>',text:"登入失敗",showConfirmButton:!1,width:250,timer:1500})})}}},B={style:{"background-image":"url('https://images.unsplash.com/photo-1445116572660-236099ec97a0?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1171&q=80')",height:"100vh","background-size":"cover","background-position":"center center","background-attachment":"fixed"},class:"position-relative"},E={class:"container"},L={class:"text-center"},T={class:"row justify-content-center align-items-center min-vh-100"},S={class:"bg-primary rounded d-flex flex-column justify-content-center align-items-center shadow",style:{width:"500px",height:"600px"},"data-aos":"zoom-in"},A=e("h1",{class:"h2 mb-4 fw-bold text-light"},[e("span",{class:"logo"},"Pomme"),e("br"),n("後台登入 ")],-1),C={class:"col-8"},D={id:"form",class:"form-signin"},H={class:"form-floating mb-3"},M=e("label",{for:"username"},"帳號",-1),P={class:"form-floating"},R=e("label",{for:"password"},"密碼",-1);function U(i,o,a,r,t,l){const h=c("loading-component"),f=c("router-link");return d(),x(k,null,[(d(),b(w,{to:"title"},[n(" | 後台登入")])),m(h,{active:t.isLoading,"z-index":1060},null,8,["active"]),e("div",B,[e("div",E,[e("div",L,[e("div",T,[e("div",S,[A,e("div",C,[e("form",D,[e("div",H,[u(e("input",{type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"",autofocus:"","onUpdate:modelValue":o[0]||(o[0]=s=>t.user.username=s)},null,512),[[p,t.user.username]]),M]),e("div",P,[u(e("input",{type:"password",class:"form-control",id:"password",placeholder:"Password",required:"","onUpdate:modelValue":o[1]||(o[1]=s=>t.user.password=s)},null,512),[[p,t.user.password]]),R]),e("button",{class:"btn btn-lg btn-secondary text-light w-100 mt-3",type:"button",onClick:o[2]||(o[2]=(...s)=>l.login&&l.login(...s))}," 登入 "),m(f,{to:"/",class:"btn btn-lg btn-outline-secondary text-light w-100 mt-3"},{default:v(()=>[n("回到前台首頁")]),_:1})])])])])])])])],64)}const q=g(V,[["render",U]]);export{q as default};
