import{S as l}from"./sweetalert2.all-1f9d6d22.js";import{_ as b,r as u,o as m,c as k,b as s,d as e,w as i,n,i as v,g as _,f as a}from"./index-d2bd48e7.js";const{VITE_BASEURL:p}={VITE_BASEURL:"https://vue3-course-api.hexschool.io",VITE_APIPATH:"hmjbs",BASE_URL:"/pomme/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},g={data(){return{checkSuccess:!1}},methods:{checkLogin(){const c=document.cookie.replace(/(?:(?:^|.*;\s*)hexschool\s*\=\s*([^;]*).*$)|^.*$/,"$1");if(c){this.axios.defaults.headers.common.Authorization=`${c}`;const t=`${p}/v2/api/user/check`;this.axios.post(t).then(()=>{this.checkSuccess=!0}).catch(r=>{l.fire({iconColor:"#992525",iconHtml:'<i class="bi bi-exclamation-triangle-fill"></i>',text:`${r.response.data.message}`,showConfirmButton:!1,width:250,timer:1500}),this.$router.push("/login")})}else l.fire({iconColor:"#992525",iconHtml:'<i class="bi bi-exclamation-triangle-fill"></i>',text:"請重新登入",showConfirmButton:!1,width:250,timer:1500}),this.$router.push("/login")},logout(){const c=`${p}/v2/logout`;this.axios.post(c).then(()=>{this.$router.push("/")}).catch(t=>{l.fire({iconColor:"#992525",iconHtml:'<i class="bi bi-exclamation-triangle-fill"></i>',text:`${t.response.data.message}`,showConfirmButton:!1,width:250,timer:1500})})}},mounted(){this.checkLogin()}},$={key:0,class:"container-fluid"},w={class:"row flex-nowrap"},y={class:"col-md-2 px-0"},B={class:"d-flex flex-column text-light bg-primary py-4 vh-100 w-auto position-fixed"},C=s("h1",{class:"h3 fw-bold"},[s("span",{class:"logo"},"Pomme"),a(" 後台")],-1),S={class:"navbar-nav flex-column mb-auto fs-5 px-5"},V={class:"nav-item"},E=s("i",{class:"bi bi-house-door-fill me-2"},null,-1),R={class:"nav-item"},L=s("i",{class:"bi bi-shop me-2"},null,-1),A={class:"nav-item"},T=s("i",{class:"bi bi-card-list me-2"},null,-1),H={class:"nav-item"},I=s("i",{class:"bi bi-pencil-fill me-2"},null,-1),N={class:"nav-item"},P=s("i",{class:"bi bi-tag-fill me-2"},null,-1),D={class:"col-md-10 px-0"};function U(c,t,r,z,d,h){const o=u("RouterLink"),f=u("RouterView");return d.checkSuccess?(m(),k("div",$,[s("div",w,[s("div",y,[s("div",B,[e(o,{to:"/admin",class:"mb-4 text-light text-decoration-none px-5"},{default:i(()=>[C]),_:1}),s("ul",S,[s("li",V,[e(o,{to:"/admin",class:n(["nav-link",{"text-secondary":this.$route.path==="/admin"}])},{default:i(()=>[E,a(" 後台首頁 ")]),_:1},8,["class"])]),s("li",R,[e(o,{to:"/admin/products",class:n(["nav-link",{"text-secondary":this.$route.path==="/admin/products"}])},{default:i(()=>[L,a(" 商品管理 ")]),_:1},8,["class"])]),s("li",A,[e(o,{to:"/admin/orders",class:n(["nav-link",{"text-secondary":this.$route.path==="/admin/orders"}])},{default:i(()=>[T,a(" 訂單管理 ")]),_:1},8,["class"])]),s("li",H,[e(o,{to:"/admin/articles",class:n(["nav-link",{"text-secondary":this.$route.path==="/admin/articles"}])},{default:i(()=>[I,a(" 文章管理 ")]),_:1},8,["class"])]),s("li",N,[e(o,{to:"/admin/coupons",class:n(["nav-link",{"text-secondary":this.$route.path==="/admin/coupons"}])},{default:i(()=>[P,a(" 優惠券管理 ")]),_:1},8,["class"])])]),s("button",{type:"button",class:"btn btn-secondary text-light mx-3",onClick:t[0]||(t[0]=(...x)=>h.logout&&h.logout(...x))},"登出")])]),s("div",D,[d.checkSuccess?(m(),v(f,{key:0})):_("",!0)])])])):_("",!0)}const M=b(g,[["render",U]]);export{M as default};
